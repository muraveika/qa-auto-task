# QA-AUTO-TASK

## Важные комментарии

1. На входе программа принимает два обязательных параметра и один опциональный:
    - путь к файлу с метаданными тест-кейса,
    - путь к файлу со значениями, которые необходимо обновить в тест-кейсе,
    - (опциональный) путь к файлу, в который будет записан итоговый результат; по умолчанию используется **_./output/StructureWithValues.json_**.
2. Результат выполнения программы сохраняется в папку **_./output_**.
3. Для удобства в скрипт **_start_** уже добавлены два параметра: **_TestcaseStructureCorrected.json_** и **_Values.json_**.
4. **_TestcaseStructure.json_** содержит "висячие запятые", что не допускается для JSON. Я не стал исправлять файл, так посчитал, что это часть задания. Поэтому при выполнении программы с предоставленными JSON на выходе всегда возникает ошибка.
5. Для удобства проверки в проект добавлен **_TestcaseStructureCorrected.json_**, в котором убраны "висячие запятые".
6. **_StructureWithValues.json_** не является валидным ответом, так как параметр с id 73 не может быть обновлен в **_TestcaseStructure.json_** на _SellerX_, поскольку id этого параметра (345) не совпадает со значением, переданным в **_Values.json_** (354).

## Getting Started

На компьютере должен быть установлен NodeJS

### Установка

1. Склонировать репозиторий
```
git clone https://github.com/muraveika/alfa-bank-challenge.git
```
2. Установить зависимости
```
npm install
```

### Запуск программы
```
npm start
```

### Запуск тестов
```
npm test
```

# Условия задачи

На вход поступает 2 файла:
1) *TestcaseStructure.json*
2) *Values.json*

#### TestcaseStructure.json
Cодержит в себе массив параметров. Каждый **параметр** может иметь поля:
- id - Уникальный идентификатор;
- title - Название параметра;
- value - Выбранное значение, изначально пустая строка;
- values - Массив возможных значений, если поля нет, считаем что значение заполняется вручную, а не выбором.

**Значения** имеют следующие поля:
- id - Уникальный идентификатор;
- title - Название значения, которое подставляется в value параметра;
- params - массив вложенных в это значение параметров.

#### Values.json
Содержит массив объектов. Каждый **объект** имеет поля:
- id - Идентификатор параметра;
- value - Идентификатор значения этого параметра. либо строка, если у параметра нет массива значений.

#### Результат
В результате выполнения, программа должна сформировать файл *StructureWithValues.json* с заполненными value у параметров, на основе файла *Values.json*.

Пример корректного выполнения задачи *StructureWithValues.json* приложен к заданию.

#### Доп. информация
Если мы не можем найти параметр с id из файла *Values.json*, то считаем, что такого параметра нет и значение подставлять некуда.

Если у параметра с id из *Values.json*, в массиве values нет объекта с id равным value, то считаем, что такого значения нет и оставляем поле value пустым.

Если входные файлы являются неконсистентными, то программа должна сформировать файл *error.json* с сообщением о том, что входные файлы являются некорректными. Пример *error.json* приложен к заданию.
